{"version":3,"file":"animate.js","sourceRoot":"","sources":["../../../../src/internal/decorators/animate.ts"],"names":[],"mappings":"AAAA;;;;GAIG;AAEH,OAAO,EAEL,eAAe,EAEf,kCAAkC,GACnC,MAAM,yBAAyB,CAAC;AACjC,OAAO,EAAE,qBAAqB,EAAE,MAAM,oBAAoB,CAAC;AAE3D,gFAAgF;AAChF,MAAM,UAAU,OAAO,CAAC,MAA+B;IACrD,OAAO,SAAS,cAAc,CAAyC,MAAS;QAC9E,MAAM,OAAO,GAAG,MAAa,CAAC;QAC9B,OAAQ,KAAM,SAAQ,OAAO;YAG3B,OAAO,CAAC,KAAuB;gBAC7B,KAAK,CAAC,OAAO,CAAC,KAAK,CAAC,CAAC;gBAErB,MAAM,IAAI,GAAI,IAAmF,CAAC;gBAClG,IAAI,CAAC,WAAW,GAAG,MAAM,IAAI,KAAK,CAAC,CAAC;gBAEpC,IAAI,CAAC,IAAI,CAAC,YAAY,CAAC,kCAAkC,CAAC,EAAE;oBAC1D,IAAI,CAAC,YAAY,CAAC,kCAAkC,EAAE,eAAe,CAAC,KAAK,CAAC,CAAC;iBAC9E;qBAAM,IAAI,CAAC,IAAI,CAAC,YAAY,CAAC,YAAY,CAAC,EAAE;oBAC3C,gHAAgH;oBAChH,qBAAqB,CAAC,KAAK,EAAE,IAAI,CAAC,CAAC;iBACpC;YACH,CAAC;SACe,CAAC;IACrB,CAAC,CAAC;AACJ,CAAC","sourcesContent":["/*\n * Copyright (c) 2016-2021 VMware, Inc. All Rights Reserved.\n * This software is released under MIT license.\n * The full license information can be found in LICENSE in the root directory of this project.\n */\n\nimport {\n  Animatable,\n  AnimationStatus,\n  PropertyDrivenAnimation,\n  PRIVATE_ANIMATION_STATUS_ATTR_NAME,\n} from '../motion/interfaces.js';\nimport { runPropertyAnimations } from '../motion/utils.js';\n\n// https://www.typescriptlang.org/docs/handbook/decorators.html#class-decorators\nexport function animate(config: PropertyDrivenAnimation) {\n  return function _DecoratorName<T extends { new (...args: any[]): {} }>(constr: T) {\n    const _constr = constr as any;\n    return (class extends _constr {\n      _animations: any;\n\n      updated(props: Map<string, any>) {\n        super.updated(props);\n\n        const self = (this as unknown) as Element & Animatable & { _animations: PropertyDrivenAnimation };\n        self._animations = config || void 0;\n\n        if (!self.hasAttribute(PRIVATE_ANIMATION_STATUS_ATTR_NAME)) {\n          self.setAttribute(PRIVATE_ANIMATION_STATUS_ATTR_NAME, AnimationStatus.ready);\n        } else if (!self.hasAttribute('_demo-mode')) {\n          // ignore if element has the _demo-mode attribute set; _demo-mode is used for docs, static examples, and stories\n          runPropertyAnimations(props, self);\n        }\n      }\n    } as unknown) as T;\n  };\n}\n"]}