/*
 * Copyright (c) 2016-2021 VMware, Inc. All Rights Reserved.
 * This software is released under MIT license.
 * The full license information can be found in LICENSE in the root directory of this project.
 */
import { AnimationStatus, PRIVATE_ANIMATION_STATUS_ATTR_NAME, } from '../motion/interfaces.js';
import { runPropertyAnimations } from '../motion/utils.js';
// https://www.typescriptlang.org/docs/handbook/decorators.html#class-decorators
export function animate(config) {
    return function _DecoratorName(constr) {
        const _constr = constr;
        return class extends _constr {
            updated(props) {
                super.updated(props);
                const self = this;
                self._animations = config || void 0;
                if (!self.hasAttribute(PRIVATE_ANIMATION_STATUS_ATTR_NAME)) {
                    self.setAttribute(PRIVATE_ANIMATION_STATUS_ATTR_NAME, AnimationStatus.ready);
                }
                else if (!self.hasAttribute('_demo-mode')) {
                    // ignore if element has the _demo-mode attribute set; _demo-mode is used for docs, static examples, and stories
                    runPropertyAnimations(props, self);
                }
            }
        };
    };
}
//# sourceMappingURL=animate.js.map